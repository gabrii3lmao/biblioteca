<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title><%= pageTitle %></title>
    <link rel="stylesheet" href="/css/formEditBook.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="form-container">
        <div class="form-header">
            <h1><%= pageTitle %></h1>
            <a href="/" class="back-link">‚Üê Voltar</a>
        </div>

        <form method="POST" action="/livros/<%= livro.id %>?_method=PUT" enctype="multipart/form-data">
            
            <div class="form-group current-image">
                <label>Capa Atual:</label>
                <% if (livro.imagem) { %>
                    <img src="/uploads/<%= livro.imagem %>" alt="Capa atual" class="current-cover">
                <% } else { %>
                    <div class="no-cover-edit"><span>üö´ Sem Capa</span></div>
                <% } %>
            </div>

            <div class="form-group upload-group">
                <label for="foto">Nova Capa (opcional)</label>
                <input type="file" id="foto" name="foto" accept="image/*" class="custom-file-input">
            </div>

            <div class="form-group">
                <label for="nome">T√≠tulo do Livro</label>
                <input type="text" id="nome" name="nome" value="<%= livro.nome %>" placeholder="T√≠tulo" required>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="autor">Autor</label>
                    <input type="text" id="autor" name="autor" value="<%= livro.autor %>" placeholder="Autor" required>
                </div>

                <div class="form-group">
                    <label for="anoLancamento">Ano</label>
                    <input type="number" id="anoLancamento" name="anoLancamento" value="<%= livro.anoLancamento %>" placeholder="Ano" required>
                </div>
            </div>

            <div class="form-row align-center">
                <div class="form-group">
                    <label for="preco">Pre√ßo (R$)</label>
                    <input type="number" step="0.01" id="preco" name="preco" value="<%= livro.preco %>" placeholder="0.00">
                </div>

                <div class="form-group">
                    <label>Avalia√ß√£o</label>
                    <div class="rating">
                        <input type="radio" id="star5" name="nota" value="5" <%= livro.nota == 5 ? 'checked' : '' %>><label for="star5">‚òÖ</label>
                        <input type="radio" id="star4" name="nota" value="4" <%= livro.nota == 4 ? 'checked' : '' %>><label for="star4">‚òÖ</label>
                        <input type="radio" id="star3" name="nota" value="3" <%= livro.nota == 3 ? 'checked' : '' %>><label for="star3">‚òÖ</label>
                        <input type="radio" id="star2" name="nota" value="2" <%= livro.nota == 2 ? 'checked' : '' %>><label for="star2">‚òÖ</label>
                        <input type="radio" id="star1" name="nota" value="1" <%= livro.nota == 1 ? 'checked' : '' %>><label for="star1">‚òÖ</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="descricao">Descri√ß√£o</label>
                <textarea id="descricao" name="descricao" rows="4" placeholder="Breve resumo do livro..." required><%= livro.descricao %> </textarea>
            </div>

            <button type="submit" class="btn-submit">Atualizar Livro</button>
        </form>
    </div>
</body>
</html>